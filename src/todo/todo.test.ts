import { $todo } from './$todo'
import { test } from '../utils/test'

[
	{
		"id": "Nsh4uUZUop86u8tSDpNeQ",
		"at": 1702500309799,
		"type": "todo.onPull",
		"payload": [
			{
				"reqId": "get ? @1702500308725",
				"data": []
			}
		]
	},
	{
		"id": "mciwbr0hBgav807tPxXY8",
		"at": 1702500323835,
		"type": "todo.onDraft",
		"payload": [
			"b"
		]
	},
	{
		"id": "2ZSGElju-BhtNd-KL_GC6",
		"at": 1702500324042,
		"type": "todo.onDraft",
		"payload": [
			"bu"
		]
	},
	{
		"id": "puz5BEX_kYn2DE4mRfoNX",
		"at": 1702500324255,
		"type": "todo.onDraft",
		"payload": [
			"buy"
		]
	},
	{
		"id": "7SStpcUS8UdjNkyU0OaET",
		"at": 1702500324505,
		"type": "todo.onDraft",
		"payload": [
			"buy "
		]
	},
	{
		"id": "gX-cz0lsXjYb7G7a_Tvij",
		"at": 1702500325350,
		"type": "todo.onDraft",
		"payload": [
			"buy m"
		]
	},
	{
		"id": "YPiE_OQ8BFrGaNuWaiKS5",
		"at": 1702500325523,
		"type": "todo.onDraft",
		"payload": [
			"buy mi"
		]
	},
	{
		"id": "4GcC7S1zkEb0Uny2Oe6eP",
		"at": 1702500325780,
		"type": "todo.onDraft",
		"payload": [
			"buy mil"
		]
	},
	{
		"id": "nqmdhdgb2xUGC9UR-3TJO",
		"at": 1702500325876,
		"type": "todo.onDraft",
		"payload": [
			"buy milk"
		]
	},
	{
		"id": "Rt5vPwQkdcYnstJDVNRlC",
		"at": 1702500326392,
		"type": "todo.onAdd",
		"payload": []
	},
	{
		"id": "PmtA05xWaq402po4WR9KI",
		"at": 1702500327433,
		"type": "todo.onPush",
		"payload": [
			{
				"reqId": "post #Rt5vPwQkdcYnstJDVNRlC @1702500326392"
			}
		]
	},
	{
		"id": "gNJM4u5xdC-TxoRkjlzwo",
		"at": 1702500327565,
		"type": "todo.onDraft",
		"payload": [
			"b"
		]
	},
	{
		"id": "HeIVjnbhbMzMgm1HPBk_b",
		"at": 1702500327917,
		"type": "todo.onDraft",
		"payload": [
			"by"
		]
	},
	{
		"id": "-sneE6IgVVtmQFnz6VaFe",
		"at": 1702500328363,
		"type": "todo.onDraft",
		"payload": [
			"b"
		]
	},
	{
		"id": "Ysd1C4VBJmD4E7kawhvgY",
		"at": 1702500328650,
		"type": "todo.onDraft",
		"payload": [
			"bu"
		]
	},
	{
		"id": "qATVL7lhCKsgonwKUdReX",
		"at": 1702500328666,
		"type": "todo.onDraft",
		"payload": [
			"bui"
		]
	},
	{
		"id": "9E8_fcO2KE4fXnBblwirs",
		"at": 1702500328884,
		"type": "todo.onDraft",
		"payload": [
			"buiy"
		]
	},
	{
		"id": "VLLvCSE9tvSAzj3K6_PkW",
		"at": 1702500329358,
		"type": "todo.onDraft",
		"payload": [
			"bui"
		]
	},
	{
		"id": "Kb6of5AZQRVlIxCTfO94x",
		"at": 1702500329499,
		"type": "todo.onDraft",
		"payload": [
			"bu"
		]
	},
	{
		"id": "7sj7lUcx9CgqchKcFWuo2",
		"at": 1702500330421,
		"type": "todo.onDraft",
		"payload": [
			"buy"
		]
	},
	{
		"id": "MMrKK9pgmmh2uP8xB9Z1w",
		"at": 1702500331621,
		"type": "todo.onDraft",
		"payload": [
			"buy "
		]
	},
	{
		"id": "Cg0Jc1ttfYOYU2Z2qUz-P",
		"at": 1702500333180,
		"type": "todo.onDraft",
		"payload": [
			"buy m"
		]
	},
	{
		"id": "L4x3mOM7CtZar-YU2A71W",
		"at": 1702500333381,
		"type": "todo.onDraft",
		"payload": [
			"buy me"
		]
	},
	{
		"id": "PoPY6x_xoBZNayDpysyZM",
		"at": 1702500333619,
		"type": "todo.onDraft",
		"payload": [
			"buy mea"
		]
	},
	{
		"id": "xJDzZNORYT5GaYhxZ7UvW",
		"at": 1702500333767,
		"type": "todo.onDraft",
		"payload": [
			"buy meat"
		]
	},
	{
		"id": "Xnr1K7X18p85U7e0YXVAj",
		"at": 1702500333863,
		"type": "todo.onDraft",
		"payload": [
			"buy meate"
		]
	},
	{
		"id": "5InDY0OpETG4SenhyG9z5",
		"at": 1702500334560,
		"type": "todo.onDraft",
		"payload": [
			"buy meat"
		]
	},
	{
		"id": "SlT_B2QuWjQ51lUxtXVa6",
		"at": 1702500335083,
		"type": "todo.onAdd",
		"payload": []
	},
	{
		"id": "CnvCMs0UO6et_B-mazy1o",
		"at": 1702500336114,
		"type": "todo.onPush",
		"payload": [
			{
				"reqId": "post #SlT_B2QuWjQ51lUxtXVa6 @1702500335083"
			}
		]
	},
	{
		"id": "QYyG2GqFXgprVViHcRdYq",
		"at": 1702500339117,
		"type": "todo.onToggle",
		"payload": [
			"Rt5vPwQkdcYnstJDVNRlC"
		]
	},
	{
		"id": "Ei0_XNSoy4ZhVXlIlIGMT",
		"at": 1702500340149,
		"type": "todo.onPush",
		"payload": [
			{
				"reqId": "patch #Rt5vPwQkdcYnstJDVNRlC @1702500339117"
			}
		]
	},
	{
		"id": "R6LKrlidBkT22WJUlCQhf",
		"at": 1702500341324,
		"type": "todo.onFilter",
		"payload": [
			"!done"
		]
	},
	{
		"id": "aGiq9KgEKY8j7qK7OFtG-",
		"at": 1702500342355,
		"type": "todo.onPull",
		"payload": [
			{
				"reqId": "get ?!done @1702500341324",
				"data": [
					{
						"id": "SlT_B2QuWjQ51lUxtXVa6",
						"text": "buy meat"
					}
				]
			}
		]
	},
	{
		"id": "rzRrwWDepNcrxOEmr3fnd",
		"at": 1702500348477,
		"type": "todo.onFilter",
		"payload": [
			""
		]
	},
	{
		"id": "Pq-fAx0QBPmdFopEFCfPn",
		"at": 1702500349496,
		"type": "todo.onPull",
		"payload": [
			{
				"reqId": "get ? @1702500348477",
				"data": [
					{
						"id": "Rt5vPwQkdcYnstJDVNRlC",
						"text": "buy milk",
						"done": true
					},
					{
						"id": "SlT_B2QuWjQ51lUxtXVa6",
						"text": "buy meat"
					}
				]
			}
		]
	},
	{
		"id": "QkKhFKpKcez_BOpssWT_A",
		"at": 1702500351797,
		"type": "todo.onDeleteDone",
		"payload": []
	},
	{
		"id": "kIbk1aVzMqXkInQaWw5DT",
		"at": 1702500352821,
		"type": "todo.onPush",
		"payload": [
			{
				"reqId": "del #Rt5vPwQkdcYnstJDVNRlC @1702500351797"
			}
		]
	}
]

const cases = {
	'todo creation': {
		events: [
			['todo.onDraft', 'buy milk'],
			['todo.onAdd'],
		]
	}
}

test($todo, cases)